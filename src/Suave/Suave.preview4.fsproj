<Project Sdk="FSharp.NET.Sdk;Microsoft.NET.Sdk" ToolsVersion="15.0">

  <PropertyGroup>
    <VersionPrefix>2.0.0-rc3</VersionPrefix>
    <TargetFrameworks>net451;netstandard1.6</TargetFrameworks>
    <AssemblyName>Suave</AssemblyName>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="..\..\paket-files\haf\YoLo\YoLo.fs" />
    <Compile Include="Utils\Aether.fs" />
    <Compile Include="Utils\AsyncExtensions.fs" />
    <Compile Include="Utils\AsyncResultCell.fs" />
    <Compile Include="Utils\Collections.fs" />
    <Compile Include="Utils\ASCII.fs" />
    <Compile Include="Utils\Choice.fs" />
    <Compile Include="Utils\ThreadSafeRandom.fs" />
    <Compile Include="Utils\Bytes.fs" />
    <Compile Include="Utils\Compression.fs" />
    <Compile Include="Utils\Crypto.fs" />
    <Compile Include="Utils\Parsing.fs" />
    <Compile Include="Utils\OpenMemoryStream.fs" />
    <Compile Include="Utils\Property.fs" />
    <Compile Include="Utils\Parse.fs" />
    <Compile Include="Utils\CultureInfoCache.fs" />
    <Compile Include="..\..\paket-files\logary\logary\src\Logary.Facade\Facade.fs" />
    <Compile Include="Utils\TraceHeader.fs" />
    <Compile Include="Globals.fs" />
    <Compile Include="CookieSerialiser.fs" />
    <Compile Include="Sockets\SocketBinding.fs" />
    <Compile Include="Sockets\BufferManager.fs" />
    <Compile Include="Sockets\ConcurrentPool.fs" />
    <Compile Include="Sockets\AsyncUserToken.fs" />
    <Compile Include="Sockets\SocketOp.fs" />
    <Compile Include="Sockets\ITransport.fs" />
    <Compile Include="Sockets\TcpTransport.fs" />
    <Compile Include="Sockets\Connection.fs" />
    <Compile Include="Sockets\SocketMonad.fs" />
    <Compile Include="Sockets\AsyncSocket.fs" />
    <Compile Include="Sockets\TransportStream.fs" />
    <Compile Include="Tcp.fs" />
    <Compile Include="TcpServerFactory.fs" />
    <Compile Include="Sscanf.fs" />
    <Compile Include="WebPart.fsi" />
    <Compile Include="WebPart.fs" />
    <Compile Include="Operators.fs" />
    <Compile Include="Http.fsi" />
    <Compile Include="Http.fs" />
    <Compile Include="Headers.fs" />
    <Compile Include="DefaultTlsProvider.fs" />
    <Compile Include="Compression.fs" />
    <Compile Include="Combinators.fsi" />
    <Compile Include="Combinators.fs" />
    <Compile Include="Cookie.fsi" />
    <Compile Include="Cookie.fs" />
    <Compile Include="Model.fs" />
    <Compile Include="State.fs" />
    <Compile Include="Authentication.fsi" />
    <Compile Include="Authentication.fs" />
    <Compile Include="SuaveConfig.fs" />
    <Compile Include="HttpOutput.fs" />
    <Compile Include="ConnectionFacade.fs" />
    <Compile Include="ParsingAndControl.fs" />
    <Compile Include="Web.fs" />
    <Compile Include="WebSocket.fs" />
    <Compile Include="Owin.fs" />
    <Compile Include="Json.fs" />
    <EmbeddedResource Include="**\*.resx" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'net451' ">
    <PackageReference Include="FSharp.Core" Version="4.0.1.7-alpha" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'netstandard1.6' ">
    <PackageReference Include="System.Data.Common" Version="4.1.0" />
    <PackageReference Include="System.Diagnostics.Process" Version="4.1.0" />
    <PackageReference Include="System.Security.Cryptography.Primitives" Version="4.0.0" />
    <PackageReference Include="System.Net.Security" Version="4.0.0" />
    <PackageReference Include="System.Globalization.Extensions" Version="4.0.1" />
    <PackageReference Include="FSharp.Core" Version="4.0.1.7-alpha" />
    <PackageReference Include="NETStandard.Library" Version="1.6.0" />
    <PackageReference Include="System.Security.Claims" Version="4.0.1" />
    <PackageReference Include="System.Runtime.Serialization.Json" Version="4.0.2" />
  </ItemGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netstandard1.6' ">
    <DefineConstants>$(DefineConstants);DNXCORE50;NETSTANDARD1_5</DefineConstants>
    <PackageTargetFallback>$(PackageTargetFallback);portable-net45+win8;dnxcore50</PackageTargetFallback>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <DefineConstants>$(DefineConstants);RELEASE</DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="FSharp.NET.Sdk" Version="1.0.0-char-*">
      <PrivateAssets>All</PrivateAssets>
    </PackageReference>
  </ItemGroup>

</Project>
